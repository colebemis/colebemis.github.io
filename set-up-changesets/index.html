<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.20.10"/><title data-react-helmet="true">Set up changesets in a GitHub repository</title><link as="script" rel="preload" href="/app-791b03cbbf0c4ba25dff.js"/><link as="script" rel="preload" href="/component---content-notes-set-up-changesets-md-d791c1e4d4ca32b7b662.js"/><link as="script" rel="preload" href="/commons-159f1d65262de0d59fae.js"/><link as="script" rel="preload" href="/framework-e43bc979b16dd68f6b5c.js"/><link as="script" rel="preload" href="/webpack-runtime-9e61dbe9b1cca90e21b6.js"/><link as="fetch" rel="preload" href="/page-data/set-up-changesets/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="iao1my">body{color:var(--theme-ui-colors-text,rgba(0,0,0,0.87));background-color:var(--theme-ui-colors-background,#fff);}</style><style data-emotion-css="80me0d">*{box-sizing:border-box;}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:18px;line-height:1.5;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><style data-emotion-css="1036aqn">.css-1036aqn{max-width:70ch;padding-left:16px;padding-right:16px;padding-top:32px;padding-bottom:32px;}@media screen and (min-width:40em){.css-1036aqn{padding-left:64px;padding-right:64px;padding-top:64px;padding-bottom:64px;}}</style><div class="css-1036aqn"><style data-emotion-css="13j4cpn">.css-13j4cpn{margin-bottom:32px;}@media screen and (min-width:40em){.css-13j4cpn{margin-bottom:64px;}}</style><div class="css-13j4cpn"><style data-emotion-css="1t2tfoz">.css-1t2tfoz{color:var(--theme-ui-colors-accent,#ff2467);}</style><a class="css-1t2tfoz" href="/"><style data-emotion-css="1tco7fq">.css-1tco7fq{color:var(--theme-ui-colors-accent,#ff2467);fill:currentColor;}</style><svg width="36" height="36" viewBox="0 0 36 36" class="css-1tco7fq"><path fill-rule="evenodd" clip-rule="evenodd" d="M36 26C36 31.52 31.52 36 26 36H10H8V34V32H10H26C29.31 32 32 29.31 32 26C32 22.69 29.31 20 26 20H10H8V18V16H10H26C29.31 16 32 13.31 32 10C32 6.69 29.31 4 26 4H10H8V2V0H10H26C31.52 0 36 4.48 36 10C36 13.27 34.42 16.18 31.99 18C34.42 19.82 36 22.73 36 26ZM28 24H26H10C6.69 24 4 21.31 4 18C4 14.69 6.69 12 10 12H26H28V10V8H26H10C4.48 8 0 12.48 0 18C0 23.52 4.48 28 10 28H26H28V26V24Z"></path></svg></a></div><main><style data-emotion-css="119i2ac">.css-119i2ac{margin-bottom:16px;}@media screen and (min-width:40em){.css-119i2ac{margin-bottom:32px;}}</style><div class="css-119i2ac"><style data-emotion-css="tqbwpr">.css-tqbwpr{font-weight:700;line-height:1.25;font-size:32px;margin-top:0;margin-bottom:0;}@media screen and (min-width:40em){.css-tqbwpr{font-size:48px;}}</style><h1 class="css-tqbwpr">Set up changesets in a GitHub repository</h1><style data-emotion-css="fmcyws">.css-fmcyws{margin:0;margin-top:8px;font-size:16px;}</style><p class="css-fmcyws">Updated <!-- -->3 weeks ago</p></div><ol class="css-0"><li class="css-0"><p class="css-0">Install <style data-emotion-css="15ehc9x">.css-15ehc9x{color:inherit;}.css-15ehc9x:hover{color:var(--theme-ui-colors-accent,#ff2467);}</style><a href="https://github.com/apps/changeset-bot" class="css-15ehc9x">changeset-bot</a> on your repository</p></li><li class="css-0"><p class="css-0">Install <a href="https://github.com/atlassian/changesets/tree/master/packages/cli" class="css-15ehc9x"><style data-emotion-css="1eky2eq">.css-1eky2eq{padding:0.1em 0.25em;background-color:var(--theme-ui-colors-muted,#f0f0f0);font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:85%;}</style><code class="css-1eky2eq">@changesets/cli</code></a></p><style data-emotion-css="1kh89x">.css-1kh89x{padding:16px;background-color:var(--theme-ui-colors-muted,#f0f0f0);overflow-x:auto;}</style><pre class="css-1kh89x"><style data-emotion-css="u1mdu2">.css-u1mdu2{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:85%;}</style><code class="language-shell css-u1mdu2">yarn add --dev @changesets/cli
</code></pre></li><li class="css-0"><p class="css-0">Initialize changesets</p><pre class="css-1kh89x"><code class="language-shell css-u1mdu2">yarn changeset init
</code></pre></li><li class="css-0"><p class="css-0">Add a <code class="css-1eky2eq">release</code> script</p><pre class="css-1kh89x"><code class="language-diff css-u1mdu2">// package.json
{
  &quot;scripts&quot;: {
    &quot;release&quot;: &quot;yarn build &amp;&amp; changeset publish&quot;
  }
}
</code></pre></li><li class="css-0"><p class="css-0">Generate an <a href="https://docs.npmjs.com/creating-and-viewing-authentication-tokens" class="css-15ehc9x">npm token</a></p></li><li class="css-0"><p class="css-0">Add an <code class="css-1eky2eq">NPM_TOKEN</code> <a href="https://docs.github.com/en/free-pro-team@latest/actions/reference/encrypted-secrets#creating-encrypted-secrets-for-a-repository" class="css-15ehc9x">secret</a> for your repository</p></li><li class="css-0"><p class="css-0">Create <a href="https://github.com/changesets/action#with-publishing" class="css-15ehc9x"><code class="css-1eky2eq">.github/workflows/release.yml</code></a></p></li><li class="css-0"><p class="css-0">(Optional) Add <a href="https://github.com/atlassian/changesets/blob/master/docs/snapshot-releases.md" class="css-15ehc9x">snapshot releases</a> to your CI workflow</p><pre class="css-1kh89x"><code class="language-yml css-u1mdu2"># .github/workflows/ci.yml
name: CI
on:
  push:
    branches-ignore:
      - $default-branch
jobs:
  ci:
    name: CI
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@master
        with:
          # This makes Actions fetch all Git history so that Changesets
          # can generate changelogs with the correct commits.
          fetch-depth: 0

      # If you use a version of Node other than 12, change it here.
      - name: Set up Node.js 12.x
        uses: actions/setup-node@master
        with:
          node-version: 12.x

      # If you use npm instead of yarn, change this to `npm install`.
      - name: Install dependencies
        run: yarn

      # Change this to customize your build command.
      - name: Build
        run: yarn build

      # Change this to customize your test command.
      - name: Test
        run: yarn test

      - name: Create .npmrc
        run: |
          cat &lt;&lt; EOF &gt; &quot;$HOME/.npmrc&quot;
            //registry.npmjs.org/:_authToken=$NPM_TOKEN
          EOF
        env:
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}

      - name: Release snapshot
        run: |
          npx changeset version --snapshot
          npx changeset publish --tag canary
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Post published version to GitHub checks
        run: |
          name=$(jq -r .name package.json)
          version=$(jq -r .version package.json)
          npx action-status --context=$name --state=success --description=$version --url=&quot;https://unpkg.com/$name@$version/&quot;
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
</code></pre></li></ol></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/set-up-changesets/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-791b03cbbf0c4ba25dff.js"],"component---content-notes-gh-repo-clone-ssh-md":["/component---content-notes-gh-repo-clone-ssh-md-c0219d799211bc588218.js"],"component---content-notes-release-workflow-with-changesets-md":["/component---content-notes-release-workflow-with-changesets-md-dbdaadbffe73f10b5914.js"],"component---content-notes-set-up-changesets-md":["/component---content-notes-set-up-changesets-md-d791c1e4d4ca32b7b662.js"],"component---content-notes-setting-up-a-new-mac-md":["/component---content-notes-setting-up-a-new-mac-md-c7031d0d1ae64612cc9c.js"],"component---content-notes-test-md":["/component---content-notes-test-md-20dd52c7caa8f18aaa73.js"],"component---content-notes-uses-md":["/component---content-notes-uses-md-c3f6cf763a8a5e56acfd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6eede7a7608b6729c08c.js"]};/*]]>*/</script><script src="/webpack-runtime-9e61dbe9b1cca90e21b6.js" async=""></script><script src="/framework-e43bc979b16dd68f6b5c.js" async=""></script><script src="/commons-159f1d65262de0d59fae.js" async=""></script><script src="/component---content-notes-set-up-changesets-md-d791c1e4d4ca32b7b662.js" async=""></script><script src="/app-791b03cbbf0c4ba25dff.js" async=""></script></body></html>